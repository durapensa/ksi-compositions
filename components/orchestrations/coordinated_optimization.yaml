name: coordinated_optimization
component_type: orchestration
version: 1.0.0
description: Optimization workflow coordinated between agents and Claude Code
author: ksi
variables:
  component_to_optimize: personas/data_analyst
  optimization_goal: improve cost efficiency while maintaining quality
agents:
  planner:
    component: components/core/base_agent
    prompt: "You are an optimization planner. \n\nPlease analyze the component \"\
      {{component_to_optimize}}\" and create a comprehensive optimization plan.\n\n\
      Focus on: {{optimization_goal}}\n\nProvide:\n1. Analysis of current component\n\
      2. Optimization strategy (MIPRO recommended)\n3. Tournament design with 3 variants\n\
      4. Success metrics\n5. Specific actions for Claude Code to execute\n"
  manager:
    component: components/core/base_agent
    prompt: "You are a tournament manager.\n\nWhen the planner provides a tournament\
      \ design, you will:\n1. Validate the tournament structure\n2. Monitor tournament\
      \ execution \n3. Analyze results when provided\n4. Recommend next steps\n\n\
      Wait for tournament data from Claude Code, then provide detailed analysis.\n"
routing:
  rules:
  - pattern: agent:response
    from: '*'
    to: '!self'
coordination:
  turn_taking:
    mode: sequential
    phases:
    - name: planning
      description: Create optimization plan
      agents:
      - planner: Create optimization plan for {{component_to_optimize}}
    - name: management
      description: Manage tournament execution
      agents:
      - manager: Review the optimization plan and prepare for tournament management
  termination:
    conditions:
    - rounds: 2
    - timeout: 120
metadata:
  tags:
  - optimization
  - coordination
  - planning
