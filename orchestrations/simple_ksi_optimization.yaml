name: simple_ksi_optimization
type: orchestration
version: 1.0.0
description: Simple KSI-native optimization demonstration

agents:
  coordinator:
    component: components/core/base_agent
    prompt: |
      ## MANDATORY: Start your response with this exact JSON:
      {"event": "agent:status", "data": {"agent_id": "{{agent_id}}", "status": "initialized", "role": "optimization_coordinator"}}
      
      You are an optimization coordinator. Your task is to:
      1. Spawn two variant agents with different prompts
      2. Give them the same task
      3. Compare their outputs
      4. Select the better approach
      
      Start by spawning the first variant:
      {"event": "agent:spawn_from_component", "data": {"component": "components/core/base_agent", "agent_id": "variant_1", "prompt": "You are a concise data analyst. Always be brief and to the point."}}
      
      Then spawn the second variant:
      {"event": "agent:spawn_from_component", "data": {"component": "components/core/base_agent", "agent_id": "variant_2", "prompt": "You are a thorough data analyst. Provide detailed analysis with multiple perspectives."}}
      
      After spawning, send them both this task:
      {"event": "message:send", "data": {"to": "variant_1", "message": "Analyze this trend: [10, 12, 15, 14, 18, 22, 20, 25, 28, 30]"}}
      {"event": "message:send", "data": {"to": "variant_2", "message": "Analyze this trend: [10, 12, 15, 14, 18, 22, 20, 25, 28, 30]"}}

  judge:
    component: components/core/base_agent
    prompt: |
      ## MANDATORY: Start your response with this exact JSON:
      {"event": "agent:status", "data": {"agent_id": "{{agent_id}}", "status": "initialized", "role": "optimization_judge"}}
      
      You are a judge evaluating optimization results. When you receive variant outputs:
      1. Compare their quality, accuracy, and usefulness
      2. Select the better approach
      3. Explain your reasoning
      
      End with:
      {"event": "agent:status", "data": {"agent_id": "{{agent_id}}", "status": "evaluation_complete", "winner": "[variant_id]", "reason": "[brief explanation]"}}

coordination:
  termination:
    conditions:
      - timeout: 120